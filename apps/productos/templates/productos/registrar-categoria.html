{% extends "base.html" %}
{% load static %}
{% load bootstrap4 %}
{% block content %}

{% block css%}
    <style>
        .add-row {
            margin: 5px;
        }
    </style>
{% endblock %}

<div class="content-section">
    <div class="header">Crear Categoria</div>
    <form action="{% url 'agregar_categoria' %}" method="POST">
        {% csrf_token %}
        {% bootstrap_form form %}
        <hr>
        {{ formset.media }}
        {{ formset.management_form }}
        {% for form2 in formset %}
            <div class="individual-form">
                {% for hidden in form.hidden_fields %} 
                    {{ hidden }}
                {% endfor %}
                {% bootstrap_form form2 %}
                
            </div>
        {% endfor %}
        <div class="pull-right add-subcategory"></div>
        
        <div class="footer">                    

            <button type="submit" class="btn bg-olive btn-block">Crear</button>

        </div>
    </form>
</div>
    
{% endblock content %}
{% block js %}
    <script src="{% static 'dynamic_formsets/jquery.formset.js' %}" type="text/javascript"> </script>

    <script type="text/javascript">
        $('.individual-form').formset({
            addButtonHolder: $('div .add-subcategory'),
            addCssClass: 'add-row btn btn-success btn-xs',          // CSS class applied to the add link
            deleteCssClass: 'delete-row btn btn-danger btn-xs',    // CSS class applied to the delete link
            uiText: {
                addPrompt: 'AÃ±adir sub categoria',         // Text used on the 'add a new form' control.
                removePrompt: 'Remover',        // Text used on the 'delete this existing form' control.
            },
        });
    </script>
{% endblock %}